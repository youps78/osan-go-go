<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶„ë¦¬ìˆ˜GO</title>
    <!--
    @file: index.html
    @description: 'ë¶„ë¦¬ìˆ˜GO' ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë©”ì¸ í˜ì´ì§€ì…ë‹ˆë‹¤.
                  ì‚¬ìš©ìì—ê²Œ í•™ë²ˆ ì…ë ¥ í•„ë“œë¥¼ ì œê³µí•˜ê³ , í˜„ì¬ ìƒìœ„ 3ëª…ì˜ ë­í‚¹ì„ í‘œì‹œí•©ë‹ˆë‹¤.
                  í•™ë²ˆ ì…ë ¥ í›„ ì¹´ë©”ë¼ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.
    @version: 1.0.0
    @date: 2025-06-08
    @author: ì˜¤ì‚°ê³  ì´í˜„ì„œ

    @changes:
      - 1.0.0 (2025-06-08): ì´ˆê¸° ë²„ì „. í•™ë²ˆ ì…ë ¥ í¼, ë­í‚¹ í‘œì‹œ, ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë° JavaScript ë¡œì§ êµ¬í˜„.
                           ì£¼ì„ ì¶”ê°€.
    -->

    <!-- ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ ë°©ë²•:
    ì´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë°±ì—”ë“œ(Python Flask)ì™€ í†µì‹ í•˜ë©°, í”„ë¡ íŠ¸ì—”ë“œì—ì„œëŠ” ë³„ë„ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ê°€ í•„ìš” ì—†ìŠµë‹ˆë‹¤.
    ë°±ì—”ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ëŠ” í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ 'pip install -r requirements.txt' ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
    -->
    <style>
        /*
        @section: Global Styles
        @description: ì›¹ í˜ì´ì§€ ì „ì²´ì— ì ìš©ë˜ëŠ” ê¸°ë³¸ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
                      í°íŠ¸, ì—¬ë°±, ë°°ê²½ìƒ‰ ë“±ì„ ì„¤ì •í•©ë‹ˆë‹¤.
        */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        /*
        @section: Header Styles
        @description: í˜ì´ì§€ ìƒë‹¨ í—¤ë” ì˜ì—­ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
                      í•™êµ ë¡œê³ ì™€ ì•± ì œëª©ì„ í¬í•¨í•˜ë©°, ì¤‘ì•™ ì •ë ¬ë©ë‹ˆë‹¤.
        */
        header {
            background-color: #4CAF50; /* ì´ˆë¡ìƒ‰ ë°°ê²½ */
            color: white; /* í°ìƒ‰ í…ìŠ¤íŠ¸ */
            text-align: center;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        /*
        @section: Logo Styles
        @description: í—¤ë” ë‚´ í•™êµ ë¡œê³  ì´ë¯¸ì§€ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
        */
        .logo {
            height: 50px; /* ë¡œê³  ë†’ì´ */
            margin-right: 15px; /* ë¡œê³ ì™€ ì œëª© ì‚¬ì´ ê°„ê²© */
        }
        /*
        @section: Container Layout
        @description: ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ì˜ ë ˆì´ì•„ì›ƒì„ ì •ì˜í•©ë‹ˆë‹¤.
                      ë­í‚¹ íŒ¨ë„ê³¼ ë©”ì¸ íŒ¨ë„ì„ ê°€ë¡œë¡œ ë°°ì¹˜í•©ë‹ˆë‹¤.
        */
        .container {
            display: flex; /* Flexbox ë ˆì´ì•„ì›ƒ */
            max-width: 1200px; /* ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
            margin: 2rem auto; /* ìƒí•˜ ì—¬ë°± ë° ê°€ìš´ë° ì •ë ¬ */
            padding: 0 1rem; /* ì¢Œìš° íŒ¨ë”© */
        }
        /*
        @section: Ranking Panel Styles
        @description: ë­í‚¹ ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì¢Œì¸¡ íŒ¨ë„ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
        */
        .ranking-panel {
            flex: 1; /* ìœ ì—°í•œ ë„ˆë¹„ ì„¤ì • */
            background: white; /* í°ìƒ‰ ë°°ê²½ */
            padding: 1rem;
            border-radius: 8px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); /* ê·¸ë¦¼ì íš¨ê³¼ */
        }
        /*
        @section: Main Panel Styles
        @description: í•™ë²ˆ ì…ë ¥ í¼ì„ í¬í•¨í•˜ëŠ” ìš°ì¸¡ ë©”ì¸ íŒ¨ë„ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
        */
        .main-panel {
            flex: 2; /* ë­í‚¹ íŒ¨ë„ë³´ë‹¤ ë‘ ë°° ë„“ê²Œ */
            margin-left: 2rem; /* ë­í‚¹ íŒ¨ë„ê³¼ì˜ ê°„ê²© */
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        /*
        @section: ID Form Styles
        @description: í•™ë²ˆ ì…ë ¥ í¼ì˜ ë ˆì´ì•„ì›ƒ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
        */
        #idForm {
            display: flex;
            flex-direction: column; /* ì„¸ë¡œ ë°©í–¥ ë°°ì¹˜ */
            gap: 1rem; /* ìš”ì†Œ ê°„ ê°„ê²© */
        }
        /*
        @section: Student ID Input Styles
        @description: í•™ë²ˆ ì…ë ¥ í•„ë“œì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
        */
        #studentId {
            padding: 0.8rem;
            font-size: 1.2rem;
            border: 2px solid #ddd;
            border-radius: 4px;
            text-align: center; /* í…ìŠ¤íŠ¸ ê°€ìš´ë° ì •ë ¬ */
        }
        /*
        @section: Button Styles
        @description: ëª¨ë“  ë²„íŠ¼ì— ì ìš©ë˜ëŠ” ê¸°ë³¸ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
        */
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 1rem;
            font-size: 1.2rem;
            border-radius: 4px;
            cursor: pointer; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ í¬ì¸í„° ë³€ê²½ */
        }
        /*
        @section: Error Message Styles
        @description: ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ëŠ” ì˜ì—­ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
        */
        .error {
            color: red; /* ë¹¨ê°„ìƒ‰ í…ìŠ¤íŠ¸ */
            margin-top: 1rem;
        }
        /*
        @section: Responsive Design
        @description: í™”ë©´ ë„ˆë¹„ê°€ 768px ì´í•˜ì¼ ë•Œ ì ìš©ë˜ëŠ” ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
                      íŒ¨ë„ë“¤ì„ ì„¸ë¡œë¡œ ë°°ì¹˜í•©ë‹ˆë‹¤.
        */
        @media (max-width: 768px) {
            .container {
                flex-direction: column; /* ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ ë³€ê²½ */
            }
            .main-panel {
                margin-left: 0; /* ì¢Œì¸¡ ë§ˆì§„ ì œê±° */
                margin-top: 1rem; /* ìƒë‹¨ ë§ˆì§„ ì¶”ê°€ */
            }
        }
    </style>
</head>
<body>
    <!--
    @section: Header Section
    @description: ì›¹ í˜ì´ì§€ì˜ ìƒë‹¨ í—¤ë” ì˜ì—­ì…ë‹ˆë‹¤.
                  í•™êµ ë¡œê³ ì™€ 'ë¶„ë¦¬ìˆ˜GO' ì œëª©ì„ í¬í•¨í•©ë‹ˆë‹¤.
    -->
    <header>
        <img src="/static/images/logo.webp" alt="í•™êµ ë¡œê³ " class="logo">
        <h1>ë¶„ë¦¬ìˆ˜GO</h1>
    </header>

    <!--
    @section: Main Content Container
    @description: ë­í‚¹ íŒ¨ë„ê³¼ í•™ë²ˆ ì…ë ¥ íŒ¨ë„ì„ í¬í•¨í•˜ëŠ” ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ì…ë‹ˆë‹¤.
    -->
    <div class="container">
        <!--
        @section: Ranking Panel
        @description: í˜„ì¬ ìƒìœ„ 3ëª…ì˜ í•™ìƒ ë­í‚¹ì„ í‘œì‹œí•˜ëŠ” íŒ¨ë„ì…ë‹ˆë‹¤.
                      Flask ë°±ì—”ë“œì—ì„œ ì „ë‹¬ë°›ì€ 'ranking' ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë™ì ìœ¼ë¡œ ë Œë”ë§ë©ë‹ˆë‹¤.
        -->
        <div class="ranking-panel">
            <h2>ğŸ† ë­í‚¹ TOP 3</h2>
            <ol>
                {% for student in ranking %}
                <li>{{ student.student_id }} - {{ student.score }}ì </li>
                {% endfor %}
            </ol>
        </div>

        <!--
        @section: Main Panel - Student ID Input
        @description: ì‚¬ìš©ìê°€ í•™ë²ˆì„ ì…ë ¥í•˜ê³  ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ëŠ” í¼ì„ í¬í•¨í•˜ëŠ” íŒ¨ë„ì…ë‹ˆë‹¤.
        -->
        <div class="main-panel">
            <!--
            @element: í•™ë²ˆ ì…ë ¥ í¼
            @description: ì‚¬ìš©ìì˜ í•™ë²ˆì„ ì…ë ¥ë°›ëŠ” í¼ì…ë‹ˆë‹¤.
                          ì…ë ¥ëœ í•™ë²ˆì€ ë°±ì—”ë“œì˜ '/submit_id' ì—”ë“œí¬ì¸íŠ¸ë¡œ ì „ì†¡ë©ë‹ˆë‹¤.
            -->
            <form id="idForm" action="/submit_id" method="POST">
                <!--
                @element: í•™ë²ˆ ì…ë ¥ í•„ë“œ
                @description: 5ìë¦¬ ìˆ«ìë¡œ ëœ í•™ë²ˆì„ ì…ë ¥ë°›ëŠ” í…ìŠ¤íŠ¸ í•„ë“œì…ë‹ˆë‹¤.
                              pattern ì†ì„±ì„ í†µí•´ 5ìë¦¬ ìˆ«ìë§Œ ì…ë ¥ë˜ë„ë¡ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
                @param: type (text) - í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œ
                @param: id (studentId) - DOM ìš”ì†Œ ì‹ë³„ì
                @param: name (student_id) - í¼ ë°ì´í„° ì´ë¦„
                @param: placeholder (í•™ë²ˆì„ ì…ë ¥í•˜ì„¸ìš” (5ìë¦¬ ìˆ«ì)) - ì…ë ¥ ì•ˆë‚´ ë©”ì‹œì§€
                @param: pattern (\d{5}) - 5ìë¦¬ ìˆ«ì ì •ê·œì‹
                @param: maxlength (5) - ìµœëŒ€ 5ì ì…ë ¥ ì œí•œ
                @param: required (true) - í•„ìˆ˜ ì…ë ¥ í•„ë“œ
                -->
                <input type="text" id="studentId" name="student_id" 
                       placeholder="í•™ë²ˆì„ ì…ë ¥í•˜ì„¸ìš” (5ìë¦¬ ìˆ«ì)" 
                       pattern="\d{5}" 
                       maxlength="5"
                       required>
                <!--
                @element: ì‹œì‘í•˜ê¸° ë²„íŠ¼
                @description: í•™ë²ˆ ì…ë ¥ í›„ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ëŠ” ë²„íŠ¼ì…ë‹ˆë‹¤.
                -->
                <button type="submit">ì‹œì‘í•˜ê¸°</button>
            </form>
            <!--
            @element: ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ ì˜ì—­
            @description: í•™ë²ˆ ì…ë ¥ ì‹œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.
                          JavaScriptë¥¼ í†µí•´ ë™ì ìœ¼ë¡œ ë©”ì‹œì§€ê°€ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
            -->
            <div id="errorDisplay" class="error"></div>
        </div>
    </div>

    <!--
    @section: JavaScript Logic
    @description: í•™ë²ˆ ì…ë ¥ í¼ì˜ ì œì¶œì„ ì²˜ë¦¬í•˜ê³ , ì…ë ¥ëœ í•™ë²ˆì„ ë°±ì—”ë“œë¡œ ì „ì†¡í•˜ëŠ” JavaScript ì½”ë“œì…ë‹ˆë‹¤.
                  ë°±ì—”ë“œ ì‘ë‹µì— ë”°ë¼ ì¹´ë©”ë¼ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•˜ê±°ë‚˜ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
    -->
    <script>
        /*
        @function: ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (idForm ì œì¶œ)
        @description: 'idForm' í¼ì´ ì œì¶œë  ë•Œ ì‹¤í–‰ë˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì…ë‹ˆë‹¤.
                      ê¸°ë³¸ ì œì¶œ ë™ì‘ì„ ë§‰ê³ , í¼ ë°ì´í„°ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë°±ì—”ë“œì— ì „ì†¡í•©ë‹ˆë‹¤.
        @param: e (Event) - ì œì¶œ ì´ë²¤íŠ¸ ê°ì²´
        */
        document.getElementById('idForm').addEventListener('submit', async (e) => {
            e.preventDefault(); // í¼ì˜ ê¸°ë³¸ ì œì¶œ ë™ì‘ ë°©ì§€
            const formData = new FormData(e.target); // í¼ ë°ì´í„° ê°ì²´ ìƒì„±
            
            // '/submit_id' ì—”ë“œí¬ì¸íŠ¸ë¡œ POST ìš”ì²­ ì „ì†¡
            const response = await fetch('/submit_id', {
                method: 'POST',
                body: formData
            });
            
            const result = await response.json(); // JSON ì‘ë‹µ íŒŒì‹±
            if (response.ok) {
                // ì‘ë‹µì´ ì„±ê³µì ì¼ ê²½ìš°, í•™ë²ˆì„ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ í¬í•¨í•˜ì—¬ ì¹´ë©”ë¼ í˜ì´ì§€ë¡œ ì´ë™
                window.location.href = `/camera?student_id=${result.student_id}`;
            } else {
                // ì‘ë‹µì´ ì‹¤íŒ¨(ì˜¤ë¥˜)ì¼ ê²½ìš°, ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í™”ë©´ì— í‘œì‹œ
                document.getElementById('errorDisplay').textContent = result.error;
            }
        });

        /*
        @function: ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (studentId ì…ë ¥)
        @description: 'studentId' ì…ë ¥ í•„ë“œì— ê°’ì´ ì…ë ¥ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
                      ì…ë ¥ëœ ê°’ì—ì„œ ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ìë¥¼ ì œê±°í•˜ì—¬ ìˆ«ìë§Œ ì…ë ¥ë˜ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤.
        @param: e (Event) - ì…ë ¥ ì´ë²¤íŠ¸ ê°ì²´
        */
        document.getElementById('studentId').addEventListener('input', (e) => {
            // ì…ë ¥ëœ ê°’ì—ì„œ ìˆ«ìê°€ ì•„ë‹Œ ëª¨ë“  ë¬¸ì(\D)ë¥¼ ë¹ˆ ë¬¸ìì—´ë¡œ ëŒ€ì²´
            e.target.value = e.target.value.replace(/\D/g, '');
        });
    </script>
</body>
</html>
